jQuery(document).ready(function(){
	//load tabs
	jQuery( "#tabs" ).tabs();
	
	//export
	jQuery('#su_ui_export').bind('click', function() {
		if (jQuery("#sc_to_ex").val().length > 0){
			jQuery(".export_code").hide('fast');
			jQuery("#export_code").val('');
			jQuery(".sc_ex_status").show('fast');
			
			jQuery(".sc_ui").html('');
			jQuery.ajaxSetup({ cache: false });
			jQuery.getJSON(ajaxurl,
			{  	sc_ids: jQuery("#sc_to_ex").val(),
			    action: "ba_sb_get_ex_code",
			    seq: jQuery("#sc_ui_Get_Export_code").val()
			},
			function(data) {
				if (data.errors){
					alert('Error in Export! :(');						
				}else{
					//update nonce 
					jQuery("#sc_ui_Get_Export_code").val(data.nonce);
					jQuery("#export_code").val(data.code);
					jQuery(".export_code").show();
				}
			});
			
			jQuery(".sc_ex_status").hide('3500');
			jQuery.ajaxSetup({ cache: true });
		}else{
			alert('Please Select a Shortcode to export');
		}
	});
	
	//Import
	var htmls = '';
	jQuery('#su_ui_import').bind('click', function() {
		jQuery(".sc_im_status").show('fast');
		jQuery(".im-results").hide('fast');
		jQuery.ajaxSetup({ cache: false });
		jQuery.getJSON(ajaxurl,
		{  	import_code: jQuery("#import_code").val(),
		    action: "ba_sb_Import_sc",
		    seq2: jQuery("#sc_ui_Import_sc").val()
		},
			function(data) {
				if (data.errors){
					alert('Error in Import! :(');						
				}else{
					if (data.status){
						htmls = 'Import Status: <br/>';
						$.each(data.status, function(i,item){
							htmls = htmls + "<strong>" + item.sc_title + "</strong>" + " " + item.status + " Tag Used: " + item.tag + "<br/>";
						});
						jQuery(".im-results").html(htmls);
					}
					
					//jQuery(".im-results").html(data.dump);
					jQuery(".im-results").show('2000');
					jQuery(".sc_im_status").hide('3200');
					//update nonce 
					jQuery("#sc_ui_Import_sc").val(data.nonce);
					//jQuery("#export_code").val(data.code);
				}
		});
	});
	
	//install demo shortcodes
	jQuery('#su_ui_import_demo').bind('click', function() {
		jQuery("#import_code").val("YTo0OntpOjA7YTo0OntzOjE6InAiO2E6Nzp7czoxMjoicG9zdF9jb250ZW50IjtzOjQzMjoiPHNwYW4gc3R5bGU9ImNvbG9yOiAjZmYwMDAwOyI+VGhpcyBpcyBhIHNpbXBsZSA8ZW0+c25pcHBldDwvZW0+IHNob3J0Y29kZSwgd2hpY2ggbWVhbnMgaXQgd2lsbCBzaW1wbHkgcmV0dXJuIHRoZSBjb250ZW50IGluIHRoZSBzaG9ydGNvZGUgZWRpdG9yIGFuZCB3aWxsIGlnbm9yZSBhbnkgYXR0cmlidXRlcy4gPC9zcGFuPg0KDQoNCjxzcGFuIHN0eWxlPSJjb2xvcjogI2ZmMDAwMDsiPkl0cyB2ZXJ5IHVzZWZ1bCBpZiB5b3UgaGF2ZSBodG1sIGJsb2NrcyB5b3UgcmVwZWF0IE9WRVIgYW5kIE9WRVIgaW4geW91ciBwb3N0cyBvciBwYWdlcyAsIHNvIGluc3RlYWQgb2Ygd3JpdGluZyB0aGVtIG92ZXIgYW5kIG92ZXIgeW91IGNhbiB3cml0ZSBpdCBvbmNlIGFuZCB0aGVuIHVzZSBhIHNob3J0Y29kZSB0byBjYWxsIHRoYXQgaW4geW91ciBwb3N0cy48L3NwYW4+IjtzOjEwOiJwb3N0X3RpdGxlIjtzOjIyOiJTbmlwcGV0IFNob3J0Y29kZSBEZW1vIjtzOjExOiJwb3N0X3N0YXR1cyI7czo3OiJwdWJsaXNoIjtzOjEyOiJwb3N0X2V4Y2VycHQiO3M6MDoiIjtzOjE0OiJjb21tZW50X3N0YXR1cyI7czo2OiJjbG9zZWQiO3M6MTM6InBvc3RfcGFzc3dvcmQiO3M6MDoiIjtzOjk6InBvc3RfdHlwZSI7czo1OiJiYV9zaCI7fXM6NDoibWV0YSI7YTo4OntzOjEyOiJfYmFzY3NoX3R5cGUiO2E6MTp7aTowO3M6Nzoic25pcHBldCI7fXM6MTE6Il9iYXNjc2hfdGFnIjthOjE6e2k6MDtzOjEzOiJzY191aV9zbmlwcGV0Ijt9czoxMjoiX2Jhc2NzaF9hdHRyIjthOjE6e2k6MDtzOjA6IiI7fXM6MTY6Il9iYXNjc2hfZXh0ZXJuYWwiO2E6MTp7aTowO3M6MDoiIjt9czoxMzoiX2Jhc2NwaHBfdHlwZSI7YToxOntpOjA7czo0OiJlY2hvIjt9czoxNzoiX2Jhc2NfQXV0aG9yX05hbWUiO2E6MTp7aTowO3M6MTA6IkJhaW50ZXJuZXQiO31zOjE2OiJfYmFzY19BdXRob3JfdXJsIjthOjE6e2k6MDtzOjI1OiJIdHRwOi8vZW4uYmFpbnRlcm5ldC5pbmZvIjt9czoxNzoiX2Jhc2NfU3VwcG9ydF91cmwiO2E6MTp7aTowO3M6MjU6Ikh0dHA6Ly9lbi5iYWludGVybmV0LmluZm8iO319czozOiJ0YXgiO2E6MTp7aTowO3M6MTU6ImRlbW8tc2hvcnRjb2RlcyI7fXM6MzoidGFnIjtzOjEzOiJzY191aV9zbmlwcGV0Ijt9aToxO2E6NDp7czoxOiJwIjthOjc6e3M6MTI6InBvc3RfY29udGVudCI7czoxNDM6IlRoaXMgSXMgdGhlIEVkaXRvciBDb250ZW50IHdoaWNoIHdhcyBwbGFjZWQgYnkgdXNpbmcgPHNwYW4gc3R5bGU9ImNvbG9yOiAjZmYwMDAwOyI+e1NDX0NPTlRFTlR9PC9zcGFuPiB0b2tlbiBpbiB0aGXCoCBzaG9ydGNvZGUgdGVtcGxhdGUgZmllbGQuIjtzOjEwOiJwb3N0X3RpdGxlIjtzOjI5OiJTaW1wbGUgT25lIFRhZyBTaG9ydENvZGUgRGVtbyI7czoxMToicG9zdF9zdGF0dXMiO3M6NzoicHVibGlzaCI7czoxMjoicG9zdF9leGNlcnB0IjtzOjA6IiI7czoxNDoiY29tbWVudF9zdGF0dXMiO3M6NjoiY2xvc2VkIjtzOjEzOiJwb3N0X3Bhc3N3b3JkIjtzOjA6IiI7czo5OiJwb3N0X3R5cGUiO3M6NToiYmFfc2giO31zOjQ6Im1ldGEiO2E6OTp7czoxMzoiX2Jhc2NwaHBfdHlwZSI7YToxOntpOjA7czo0OiJlY2hvIjt9czoxNjoiX2Jhc2NzaF9leHRlcm5hbCI7YToxOntpOjA7czowOiIiO31zOjExOiJfYmFzY3NoX3RhZyI7YToxOntpOjA7czoxMjoic2NfdWlfc2ltcGxlIjt9czoxNjoiX2Jhc2NzaF90ZW1wbGF0ZSI7YToxOntpOjA7czoyNjQ6IjxkaXYgY2xhc3M9InNpbXBsZV9zaG9ydGNvZGUiPg0KCXRoZSB2YWx1ZSBvZiB0aGUgc2hvcnRjb2RlIGF0dHJpYnV0ZSBuYW1lZCAiYXR0cmlidXRlX29uZSIgaXMgPT4ge2F0dHJpYnV0ZV9vbmV9DQoJPGJyLz4NCgl0aGUgdmFsdWUgb2YgdGhlIHNob3J0Y29kZSBhdHRyaWJ1dGUgbmFtZWQgImF0dHJpYnV0ZV90d28iIGlzID0+IHthdHRyaWJ1dGVfdHdvfQ0KCTxici8+DQoJc2hvcnRjb2RlIGVkaXRvciBjb250ZW50ID0+IHtTQ19DT05URU5UfSANCjwvZGl2PiI7fXM6MTc6Il9iYXNjX0F1dGhvcl9OYW1lIjthOjE6e2k6MDtzOjEwOiJCYWludGVybmV0Ijt9czoxNjoiX2Jhc2NfQXV0aG9yX3VybCI7YToxOntpOjA7czoyNToiSHR0cDovL2VuLmJhaW50ZXJuZXQuaW5mbyI7fXM6MTc6Il9iYXNjX1N1cHBvcnRfdXJsIjthOjE6e2k6MDtzOjI1OiJIdHRwOi8vZW4uYmFpbnRlcm5ldC5pbmZvIjt9czoxMjoiX2Jhc2NzaF90eXBlIjthOjE6e2k6MDtzOjY6InNpbXBsZSI7fXM6MTI6Il9iYXNjc2hfYXR0ciI7YToxOntpOjA7czo0ODk6ImE6Mjp7aTowO2E6NDp7czoxMDoiX2Jhc2NfbmFtZSI7czoxMzoiYXR0cmlidXRlX29uZSI7czo5OiJfYmFzY19zdGQiO3M6MToiMSI7czoxMzoiX2Jhc2Nfb3B0aW9ucyI7czoyOToiMQ0KMg0KMw0KNA0KNQ0KNg0KNw0KOA0KOQ0KMTAiO3M6MTA6Il9iYXNjX2Rlc2MiO3M6Nzg6IkRlbW8gYXR0cmlidXRlIHdpdGggZGVmYXVsdCB2YWx1ZSBvZiAxIGFuZCBzZXQgb2YgdmFsdWUgb3B0aW9ucyB0byBjaG9zZSBmcm9tLiI7fWk6MTthOjQ6e3M6MTA6Il9iYXNjX25hbWUiO3M6MTM6ImF0dHJpYnV0ZV90d28iO3M6OToiX2Jhc2Nfc3RkIjtzOjI0OiJ0aGlzIGlzIHRoZSBkZWZ1bHQgdmFsdWUiO3M6MTM6Il9iYXNjX29wdGlvbnMiO3M6MDoiIjtzOjEwOiJfYmFzY19kZXNjIjtzOjk3OiJBbm90aGVyIGRlbW8gYXR0cmlidXRlIHdpdGggb25seSBkZWZhdWx0IHZhbHVlIHNldCB0byBhbGxvdyB0aGUgdXNlciB0byBpbnNlcnQgYW55dGhpbmcgaGUgd2FudHMuIjt9fSI7fX1zOjM6InRheCI7YToxOntpOjA7czoxNToiZGVtby1zaG9ydGNvZGVzIjt9czozOiJ0YWciO3M6MTI6InNjX3VpX3NpbXBsZSI7fWk6MjthOjQ6e3M6MToicCI7YTo3OntzOjEyOiJwb3N0X2NvbnRlbnQiO3M6MDoiIjtzOjEwOiJwb3N0X3RpdGxlIjtzOjU2OiJTaW1wbGUgU2hvcnRDb2RlIHdpdGggY29udGVudCBkZW1vIChhZGQgQmFja2dyb3VkIENvbG9yKSI7czoxMToicG9zdF9zdGF0dXMiO3M6NzoicHVibGlzaCI7czoxMjoicG9zdF9leGNlcnB0IjtzOjA6IiI7czoxNDoiY29tbWVudF9zdGF0dXMiO3M6NjoiY2xvc2VkIjtzOjEzOiJwb3N0X3Bhc3N3b3JkIjtzOjA6IiI7czo5OiJwb3N0X3R5cGUiO3M6NToiYmFfc2giO31zOjQ6Im1ldGEiO2E6OTp7czoxNjoiX2Jhc2NzaF90ZW1wbGF0ZSI7YToxOntpOjA7czo1MToiPHNwYW4gc3R5bGU9ImJhY2tncm91bmQ6IHtjb2xvcn07Ij57Q09OVEVOVH08L3NwYW4+Ijt9czoxMToiX2Jhc2NzaF90YWciO2E6MTp7aTowO3M6MTM6InNjX3VpX2NvbnRlbnQiO31zOjE3OiJfYmFzY19BdXRob3JfTmFtZSI7YToxOntpOjA7czoxMDoiQmFpbnRlcm5ldCI7fXM6MTY6Il9iYXNjX0F1dGhvcl91cmwiO2E6MTp7aTowO3M6MjU6Ikh0dHA6Ly9lbi5iYWludGVybmV0LmluZm8iO31zOjE3OiJfYmFzY19TdXBwb3J0X3VybCI7YToxOntpOjA7czoyNToiSHR0cDovL2VuLmJhaW50ZXJuZXQuaW5mbyI7fXM6MTY6Il9iYXNjc2hfZXh0ZXJuYWwiO2E6MTp7aTowO3M6MTEyOiJhOjE6e2k6MDthOjM6e3M6OToiX2Jhc2NfdXJsIjtzOjA6IiI7czoxNzoiX2Jhc2NzaF9leF9mX3R5cGUiO3M6Njoic2NyaXB0IjtzOjE2OiJfYmFzY3NoX2xvY2F0aW9uIjtzOjQ6ImhlYWQiO319Ijt9czoxMjoiX2Jhc2NzaF90eXBlIjthOjE6e2k6MDtzOjc6ImNvbnRlbnQiO31zOjEyOiJfYmFzY3NoX2F0dHIiO2E6MTp7aTowO3M6MTk5OiJhOjE6e2k6MDthOjQ6e3M6MTA6Il9iYXNjX25hbWUiO3M6NToiY29sb3IiO3M6OToiX2Jhc2Nfc3RkIjtzOjY6InllbGxvdyI7czoxMzoiX2Jhc2Nfb3B0aW9ucyI7czoyNDoiWWVsbG93DQpHcmVlbg0KQmx1ZQ0KUmVkIjtzOjEwOiJfYmFzY19kZXNjIjtzOjQ1OiJTZWxlY3QgYSBjb2xvciB0byBoaWdobGlnaHQgdGhlIGNvbnRlbnQgdGV4dC4iO319Ijt9czoxMzoiX2Jhc2NwaHBfdHlwZSI7YToxOntpOjA7czo0OiJlY2hvIjt9fXM6MzoidGF4IjthOjE6e2k6MDtzOjE1OiJkZW1vLXNob3J0Y29kZXMiO31zOjM6InRhZyI7czoxMzoic2NfdWlfY29udGVudCI7fWk6MzthOjQ6e3M6MToicCI7YTo3OntzOjEyOiJwb3N0X2NvbnRlbnQiO3M6Mzg6IlRoaXMgdGV4dCBpcyBmcm9tIHRoZSBzaG9ydGNvZGUgZWRpdG9yIjtzOjEwOiJwb3N0X3RpdGxlIjtzOjQ2OiJBZHZhbmNlZCBTaG9ydENvZGUgRGVtbyAocGF5cGFsIGRvbmF0aW9uIGxpbmspIjtzOjExOiJwb3N0X3N0YXR1cyI7czo3OiJwdWJsaXNoIjtzOjEyOiJwb3N0X2V4Y2VycHQiO3M6MDoiIjtzOjE0OiJjb21tZW50X3N0YXR1cyI7czo2OiJjbG9zZWQiO3M6MTM6InBvc3RfcGFzc3dvcmQiO3M6MDoiIjtzOjk6InBvc3RfdHlwZSI7czo1OiJiYV9zaCI7fXM6NDoibWV0YSI7YTo5OntzOjEyOiJfYmFzY3NoX2F0dHIiO2E6MTp7aTowO3M6NTUxOiJhOjM6e2k6MDthOjQ6e3M6MTA6Il9iYXNjX25hbWUiO3M6MTI6IlBheVBhbF9FbWFpbCI7czo5OiJfYmFzY19zdGQiO3M6MjE6ImFkbWluQGJhaW50ZXJuZXQuaW5mbyI7czoxMzoiX2Jhc2Nfb3B0aW9ucyI7czowOiIiO3M6MTA6Il9iYXNjX2Rlc2MiO3M6MTM6IlBheXBhbCBFbWFpbC4iO31pOjE7YTo0OntzOjEwOiJfYmFzY19uYW1lIjtzOjEyOiJEb25hdGlvbl9mb3IiO3M6OToiX2Jhc2Nfc3RkIjtzOjQyOiJUaGUgbW9zdCBhd2Vzb21lICBXb3JkUHJlc3MgUGx1Z2luIEV2ZXIhISEiO3M6MTM6Il9iYXNjX29wdGlvbnMiO3M6MDoiIjtzOjEwOiJfYmFzY19kZXNjIjtzOjI3OiJEb25hdGlvbiBGb3I/IG9yIGl0ZW0gbmFtZT8iO31pOjI7YTo0OntzOjEwOiJfYmFzY19uYW1lIjtzOjExOiJIb3Zlcl90aXRsZSI7czo5OiJfYmFzY19zdGQiO3M6NDI6IlRoZSBtb3N0IGF3ZXNvbWUgIFdvcmRQcmVzcyBQbHVnaW4gRXZlciEhISI7czoxMzoiX2Jhc2Nfb3B0aW9ucyI7czowOiIiO3M6MTA6Il9iYXNjX2Rlc2MiO3M6MjM6IlRpdGxlIHRvIFNob3cgT24gaG92ZXIuIjt9fSI7fXM6MTE6Il9iYXNjc2hfdGFnIjthOjE6e2k6MDtzOjE0OiJzY191aV9hZHZhbmNlZCI7fXM6MTI6Il9iYXNjc2hfdHlwZSI7YToxOntpOjA7czo4OiJhZHZhbmNlZCI7fXM6MTM6Il9iYXNjcGhwX3R5cGUiO2E6MTp7aTowO3M6NjoicmV0dXJuIjt9czoxNjoiX2Jhc2NzaF9leHRlcm5hbCI7YToxOntpOjA7czowOiIiO31zOjE3OiJfYmFzY19BdXRob3JfTmFtZSI7YToxOntpOjA7czoxMDoiQmFpbnRlcm5ldCI7fXM6MTY6Il9iYXNjX0F1dGhvcl91cmwiO2E6MTp7aTowO3M6MjU6Ikh0dHA6Ly9lbi5iYWludGVybmV0LmluZm8iO31zOjE3OiJfYmFzY19TdXBwb3J0X3VybCI7YToxOntpOjA7czoyNToiSHR0cDovL2VuLmJhaW50ZXJuZXQuaW5mbyI7fXM6MTE6Il9iYXNjc2hfcGhwIjthOjE6e2k6MDtzOjE4MDoicmV0dXJuICAnPGEgaHJlZj0iaHR0cHM6Ly93d3cucGF5cGFsLmNvbS9jZ2ktYmluL3dlYnNjcj9jbWQ9X3hjbGljayZidXNpbmVzcz0nLiRQYXlQYWxfRW1haWwuJyZpdGVtX25hbWU9RG9uYXRpb24gZm9yICcuJERvbmF0aW9uX2Zvci4nIiB0aXRsZT0iJy4kSG92ZXJfdGl0bGUuJyI+Jy4kY29udGVudC4nPC9hPic7Ijt9fXM6MzoidGF4IjthOjE6e2k6MDtzOjE1OiJkZW1vLXNob3J0Y29kZXMiO31zOjM6InRhZyI7czoxNDoic2NfdWlfYWR2YW5jZWQiO319");
		jQuery('#su_ui_import').click();
	});
	
});