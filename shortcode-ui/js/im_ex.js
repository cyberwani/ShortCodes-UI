jQuery(document).ready(function(){
	//load tabs
	jQuery( "#tabs" ).tabs();
	
	//export
	jQuery('#su_ui_export').bind('click', function() {
		if (jQuery("#sc_to_ex").val().length > 0){
			jQuery(".export_code").hide('fast');
			jQuery("#export_code").val('');
			jQuery(".sc_ex_status").show('fast');
			
			jQuery(".sc_ui").html('');
			jQuery.ajaxSetup({ cache: false });
			jQuery.getJSON(ajaxurl,
			{  	sc_ids: jQuery("#sc_to_ex").val(),
			    action: "ba_sb_get_ex_code",
			    seq: jQuery("#sc_ui_Get_Export_code").val()
			},
			function(data) {
				if (data.errors){
					alert('Error in Export! :(');						
				}else{
					//update nonce 
					jQuery("#sc_ui_Get_Export_code").val(data.nonce);
					jQuery("#export_code").val(data.code);
					jQuery(".export_code").show();
				}
			});
			
			jQuery(".sc_ex_status").hide('3500');
			jQuery.ajaxSetup({ cache: true });
		}else{
			alert('Please Select a Shortcode to export');
		}
	});
	
	//Import
	var htmls = '';
	jQuery('#su_ui_import').bind('click', function() {
		jQuery(".sc_im_status").show('fast');
		jQuery(".im-results").hide('fast');
		jQuery.ajaxSetup({ cache: false });
		jQuery.getJSON(ajaxurl,
		{  	import_code: jQuery("#import_code").val(),
		    action: "ba_sb_Import_sc",
		    seq2: jQuery("#sc_ui_Import_sc").val()
		},
			function(data) {
				if (data.errors){
					alert('Error in Import! :(');						
				}else{
					if (data.status){
						htmls = 'Import Status: <br/>';
						$.each(data.status, function(i,item){
							htmls = htmls + "<strong>" + item.sc_title + "</strong>" + " " + item.status + " Tag Used: " + item.tag + "<br/>";
						});
						jQuery(".im-results").html(htmls);
					}
					
					//jQuery(".im-results").html(data.dump);
					jQuery(".im-results").show('2000');
					jQuery(".sc_im_status").hide('3200');
					//update nonce 
					jQuery("#sc_ui_Import_sc").val(data.nonce);
					//jQuery("#export_code").val(data.code);
				}
		});
	});
	
	//install demo shortcodes
	jQuery('#su_ui_import_demo').bind('click', function() {
		jQuery("#import_code").val("YTo0OntpOjA7YTo0OntzOjE6InAiO2E6Nzp7czoxMjoicG9zdF9jb250ZW50IjtzOjQzMjoiPHNwYW4gc3R5bGU9ImNvbG9yOiAjZmYwMDAwOyI+VGhpcyBpcyBhIHNpbXBsZSA8ZW0+c25pcHBldDwvZW0+IHNob3J0Y29kZSwgd2hpY2ggbWVhbnMgaXQgd2lsbCBzaW1wbHkgcmV0dXJuIHRoZSBjb250ZW50IGluIHRoZSBzaG9ydGNvZGUgZWRpdG9yIGFuZCB3aWxsIGlnbm9yZSBhbnkgYXR0cmlidXRlcy4gPC9zcGFuPg0KDQoNCjxzcGFuIHN0eWxlPSJjb2xvcjogI2ZmMDAwMDsiPkl0cyB2ZXJ5IHVzZWZ1bCBpZiB5b3UgaGF2ZSBodG1sIGJsb2NrcyB5b3UgcmVwZWF0IE9WRVIgYW5kIE9WRVIgaW4geW91ciBwb3N0cyBvciBwYWdlcyAsIHNvIGluc3RlYWQgb2Ygd3JpdGluZyB0aGVtIG92ZXIgYW5kIG92ZXIgeW91IGNhbiB3cml0ZSBpdCBvbmNlIGFuZCB0aGVuIHVzZSBhIHNob3J0Y29kZSB0byBjYWxsIHRoYXQgaW4geW91ciBwb3N0cy48L3NwYW4+IjtzOjEwOiJwb3N0X3RpdGxlIjtzOjIyOiJTbmlwcGV0IFNob3J0Y29kZSBEZW1vIjtzOjExOiJwb3N0X3N0YXR1cyI7czo3OiJwdWJsaXNoIjtzOjEyOiJwb3N0X2V4Y2VycHQiO3M6MDoiIjtzOjE0OiJjb21tZW50X3N0YXR1cyI7czo2OiJjbG9zZWQiO3M6MTM6InBvc3RfcGFzc3dvcmQiO3M6MDoiIjtzOjk6InBvc3RfdHlwZSI7czo1OiJiYV9zaCI7fXM6NDoibWV0YSI7YTo5OntzOjEzOiJfYmFzY2ltcG9ydGVkIjthOjE6e2k6MDtzOjE6IjEiO31zOjE3OiJfYmFzY19TdXBwb3J0X3VybCI7YToxOntpOjA7czoyNToiSHR0cDovL2VuLmJhaW50ZXJuZXQuaW5mbyI7fXM6MTI6Il9iYXNjc2hfdHlwZSI7YToxOntpOjA7czo3OiJzbmlwcGV0Ijt9czoxMToiX2Jhc2NzaF90YWciO2E6MTp7aTowO3M6MTM6InNjX3VpX3NuaXBwZXQiO31zOjEyOiJfYmFzY3NoX2F0dHIiO2E6MTp7aTowO3M6MDoiIjt9czoxNjoiX2Jhc2NzaF9leHRlcm5hbCI7YToxOntpOjA7czowOiIiO31zOjEzOiJfYmFzY3BocF90eXBlIjthOjE6e2k6MDtzOjQ6ImVjaG8iO31zOjE3OiJfYmFzY19BdXRob3JfTmFtZSI7YToxOntpOjA7czoxMDoiQmFpbnRlcm5ldCI7fXM6MTY6Il9iYXNjX0F1dGhvcl91cmwiO2E6MTp7aTowO3M6MjU6Ikh0dHA6Ly9lbi5iYWludGVybmV0LmluZm8iO319czozOiJ0YXgiO2E6MTp7aTowO3M6MTU6ImRlbW8tc2hvcnRjb2RlcyI7fXM6MzoidGFnIjtzOjEzOiJzY191aV9zbmlwcGV0Ijt9aToxO2E6NDp7czoxOiJwIjthOjc6e3M6MTI6InBvc3RfY29udGVudCI7czoxNDM6IlRoaXMgSXMgdGhlIEVkaXRvciBDb250ZW50IHdoaWNoIHdhcyBwbGFjZWQgYnkgdXNpbmcgPHNwYW4gc3R5bGU9ImNvbG9yOiAjZmYwMDAwOyI+e1NDX0NPTlRFTlR9PC9zcGFuPiB0b2tlbiBpbiB0aGXCoCBzaG9ydGNvZGUgdGVtcGxhdGUgZmllbGQuIjtzOjEwOiJwb3N0X3RpdGxlIjtzOjI5OiJTaW1wbGUgT25lIFRhZyBTaG9ydENvZGUgRGVtbyI7czoxMToicG9zdF9zdGF0dXMiO3M6NzoicHVibGlzaCI7czoxMjoicG9zdF9leGNlcnB0IjtzOjA6IiI7czoxNDoiY29tbWVudF9zdGF0dXMiO3M6NjoiY2xvc2VkIjtzOjEzOiJwb3N0X3Bhc3N3b3JkIjtzOjA6IiI7czo5OiJwb3N0X3R5cGUiO3M6NToiYmFfc2giO31zOjQ6Im1ldGEiO2E6MTA6e3M6MTY6Il9iYXNjc2hfdGVtcGxhdGUiO2E6MTp7aTowO3M6MjY0OiI8ZGl2IGNsYXNzPSJzaW1wbGVfc2hvcnRjb2RlIj4NCgl0aGUgdmFsdWUgb2YgdGhlIHNob3J0Y29kZSBhdHRyaWJ1dGUgbmFtZWQgImF0dHJpYnV0ZV9vbmUiIGlzID0+IHthdHRyaWJ1dGVfb25lfQ0KCTxici8+DQoJdGhlIHZhbHVlIG9mIHRoZSBzaG9ydGNvZGUgYXR0cmlidXRlIG5hbWVkICJhdHRyaWJ1dGVfdHdvIiBpcyA9PiB7YXR0cmlidXRlX3R3b30NCgk8YnIvPg0KCXNob3J0Y29kZSBlZGl0b3IgY29udGVudCA9PiB7U0NfQ09OVEVOVH0gDQo8L2Rpdj4iO31zOjEzOiJfYmFzY2ltcG9ydGVkIjthOjE6e2k6MDtzOjE6IjEiO31zOjE2OiJfYmFzY3NoX2V4dGVybmFsIjthOjE6e2k6MDtzOjA6IiI7fXM6MTE6Il9iYXNjc2hfdGFnIjthOjE6e2k6MDtzOjEyOiJzY191aV9zaW1wbGUiO31zOjEyOiJfYmFzY3NoX3R5cGUiO2E6MTp7aTowO3M6Njoic2ltcGxlIjt9czoxNzoiX2Jhc2NfU3VwcG9ydF91cmwiO2E6MTp7aTowO3M6MjU6Ikh0dHA6Ly9lbi5iYWludGVybmV0LmluZm8iO31zOjEzOiJfYmFzY3BocF90eXBlIjthOjE6e2k6MDtzOjQ6ImVjaG8iO31zOjE3OiJfYmFzY19BdXRob3JfTmFtZSI7YToxOntpOjA7czoxMDoiQmFpbnRlcm5ldCI7fXM6MTY6Il9iYXNjX0F1dGhvcl91cmwiO2E6MTp7aTowO3M6MjU6Ikh0dHA6Ly9lbi5iYWludGVybmV0LmluZm8iO31zOjEyOiJfYmFzY3NoX2F0dHIiO2E6MTp7aTowO3M6NDg5OiJhOjI6e2k6MDthOjQ6e3M6MTA6Il9iYXNjX25hbWUiO3M6MTM6ImF0dHJpYnV0ZV9vbmUiO3M6OToiX2Jhc2Nfc3RkIjtzOjE6IjEiO3M6MTM6Il9iYXNjX29wdGlvbnMiO3M6Mjk6IjENCjINCjMNCjQNCjUNCjYNCjcNCjgNCjkNCjEwIjtzOjEwOiJfYmFzY19kZXNjIjtzOjc4OiJEZW1vIGF0dHJpYnV0ZSB3aXRoIGRlZmF1bHQgdmFsdWUgb2YgMSBhbmQgc2V0IG9mIHZhbHVlIG9wdGlvbnMgdG8gY2hvc2UgZnJvbS4iO31pOjE7YTo0OntzOjEwOiJfYmFzY19uYW1lIjtzOjEzOiJhdHRyaWJ1dGVfdHdvIjtzOjk6Il9iYXNjX3N0ZCI7czoyNDoidGhpcyBpcyB0aGUgZGVmdWx0IHZhbHVlIjtzOjEzOiJfYmFzY19vcHRpb25zIjtzOjA6IiI7czoxMDoiX2Jhc2NfZGVzYyI7czo5NzoiQW5vdGhlciBkZW1vIGF0dHJpYnV0ZSB3aXRoIG9ubHkgZGVmYXVsdCB2YWx1ZSBzZXQgdG8gYWxsb3cgdGhlIHVzZXIgdG8gaW5zZXJ0IGFueXRoaW5nIGhlIHdhbnRzLiI7fX0iO319czozOiJ0YXgiO2E6MTp7aTowO3M6MTU6ImRlbW8tc2hvcnRjb2RlcyI7fXM6MzoidGFnIjtzOjEyOiJzY191aV9zaW1wbGUiO31pOjI7YTo0OntzOjE6InAiO2E6Nzp7czoxMjoicG9zdF9jb250ZW50IjtzOjA6IiI7czoxMDoicG9zdF90aXRsZSI7czo1NjoiU2ltcGxlIFNob3J0Q29kZSB3aXRoIGNvbnRlbnQgZGVtbyAoYWRkIEJhY2tncm91ZCBDb2xvcikiO3M6MTE6InBvc3Rfc3RhdHVzIjtzOjc6InB1Ymxpc2giO3M6MTI6InBvc3RfZXhjZXJwdCI7czowOiIiO3M6MTQ6ImNvbW1lbnRfc3RhdHVzIjtzOjY6ImNsb3NlZCI7czoxMzoicG9zdF9wYXNzd29yZCI7czowOiIiO3M6OToicG9zdF90eXBlIjtzOjU6ImJhX3NoIjt9czo0OiJtZXRhIjthOjExOntzOjEzOiJfYmFzY3BocF90eXBlIjthOjE6e2k6MDtzOjQ6ImVjaG8iO31zOjEzOiJfYmFzY2ltcG9ydGVkIjthOjE6e2k6MDtzOjE6IjAiO31zOjIxOiJfYmFzY3NoX3ByZXZpZXdfaW1hZ2UiO2E6MTp7aTowO3M6Mjg6Imh0dHA6Ly9pLmltZ3VyLmNvbS9HYXNIYS5wbmciO31zOjEyOiJfYmFzY3NoX2F0dHIiO2E6MTp7aTowO3M6MTk5OiJhOjE6e2k6MDthOjQ6e3M6MTA6Il9iYXNjX25hbWUiO3M6NToiY29sb3IiO3M6OToiX2Jhc2Nfc3RkIjtzOjY6InllbGxvdyI7czoxMzoiX2Jhc2Nfb3B0aW9ucyI7czoyNDoiWWVsbG93DQpHcmVlbg0KQmx1ZQ0KUmVkIjtzOjEwOiJfYmFzY19kZXNjIjtzOjQ1OiJTZWxlY3QgYSBjb2xvciB0byBoaWdobGlnaHQgdGhlIGNvbnRlbnQgdGV4dC4iO319Ijt9czoxMToiX2Jhc2NzaF90YWciO2E6MTp7aTowO3M6MTM6InNjX3VpX2NvbnRlbnQiO31zOjE2OiJfYmFzY3NoX2V4dGVybmFsIjthOjE6e2k6MDtzOjExMjoiYToxOntpOjA7YTozOntzOjk6Il9iYXNjX3VybCI7czowOiIiO3M6MTc6Il9iYXNjc2hfZXhfZl90eXBlIjtzOjY6InNjcmlwdCI7czoxNjoiX2Jhc2NzaF9sb2NhdGlvbiI7czo0OiJoZWFkIjt9fSI7fXM6MTI6Il9iYXNjc2hfdHlwZSI7YToxOntpOjA7czo3OiJjb250ZW50Ijt9czoxNjoiX2Jhc2NzaF90ZW1wbGF0ZSI7YToxOntpOjA7czo1MToiPHNwYW4gc3R5bGU9ImJhY2tncm91bmQ6IHtjb2xvcn07Ij57Q09OVEVOVH08L3NwYW4+Ijt9czoxNzoiX2Jhc2NfQXV0aG9yX05hbWUiO2E6MTp7aTowO3M6MTA6IkJhaW50ZXJuZXQiO31zOjE2OiJfYmFzY19BdXRob3JfdXJsIjthOjE6e2k6MDtzOjI1OiJIdHRwOi8vZW4uYmFpbnRlcm5ldC5pbmZvIjt9czoxNzoiX2Jhc2NfU3VwcG9ydF91cmwiO2E6MTp7aTowO3M6MjU6Ikh0dHA6Ly9lbi5iYWludGVybmV0LmluZm8iO319czozOiJ0YXgiO2E6MTp7aTowO3M6MTU6ImRlbW8tc2hvcnRjb2RlcyI7fXM6MzoidGFnIjtzOjEzOiJzY191aV9jb250ZW50Ijt9aTozO2E6NDp7czoxOiJwIjthOjc6e3M6MTI6InBvc3RfY29udGVudCI7czozODoiVGhpcyB0ZXh0IGlzIGZyb20gdGhlIHNob3J0Y29kZSBlZGl0b3IiO3M6MTA6InBvc3RfdGl0bGUiO3M6NDY6IkFkdmFuY2VkIFNob3J0Q29kZSBEZW1vIChwYXlwYWwgZG9uYXRpb24gbGluaykiO3M6MTE6InBvc3Rfc3RhdHVzIjtzOjc6InB1Ymxpc2giO3M6MTI6InBvc3RfZXhjZXJwdCI7czowOiIiO3M6MTQ6ImNvbW1lbnRfc3RhdHVzIjtzOjY6ImNsb3NlZCI7czoxMzoicG9zdF9wYXNzd29yZCI7czowOiIiO3M6OToicG9zdF90eXBlIjtzOjU6ImJhX3NoIjt9czo0OiJtZXRhIjthOjExOntzOjEyOiJfYmFzY3NoX2F0dHIiO2E6MTp7aTowO3M6NTUxOiJhOjM6e2k6MDthOjQ6e3M6MTA6Il9iYXNjX25hbWUiO3M6MTI6IlBheVBhbF9FbWFpbCI7czo5OiJfYmFzY19zdGQiO3M6MjE6ImFkbWluQGJhaW50ZXJuZXQuaW5mbyI7czoxMzoiX2Jhc2Nfb3B0aW9ucyI7czowOiIiO3M6MTA6Il9iYXNjX2Rlc2MiO3M6MTM6IlBheXBhbCBFbWFpbC4iO31pOjE7YTo0OntzOjEwOiJfYmFzY19uYW1lIjtzOjEyOiJEb25hdGlvbl9mb3IiO3M6OToiX2Jhc2Nfc3RkIjtzOjQyOiJUaGUgbW9zdCBhd2Vzb21lICBXb3JkUHJlc3MgUGx1Z2luIEV2ZXIhISEiO3M6MTM6Il9iYXNjX29wdGlvbnMiO3M6MDoiIjtzOjEwOiJfYmFzY19kZXNjIjtzOjI3OiJEb25hdGlvbiBGb3I/IG9yIGl0ZW0gbmFtZT8iO31pOjI7YTo0OntzOjEwOiJfYmFzY19uYW1lIjtzOjExOiJIb3Zlcl90aXRsZSI7czo5OiJfYmFzY19zdGQiO3M6NDI6IlRoZSBtb3N0IGF3ZXNvbWUgIFdvcmRQcmVzcyBQbHVnaW4gRXZlciEhISI7czoxMzoiX2Jhc2Nfb3B0aW9ucyI7czowOiIiO3M6MTA6Il9iYXNjX2Rlc2MiO3M6MjM6IlRpdGxlIHRvIFNob3cgT24gaG92ZXIuIjt9fSI7fXM6MTE6Il9iYXNjc2hfcGhwIjthOjE6e2k6MDtzOjE4MDoicmV0dXJuICAnPGEgaHJlZj0iaHR0cHM6Ly93d3cucGF5cGFsLmNvbS9jZ2ktYmluL3dlYnNjcj9jbWQ9X3hjbGljayZidXNpbmVzcz0nLiRQYXlQYWxfRW1haWwuJyZpdGVtX25hbWU9RG9uYXRpb24gZm9yICcuJERvbmF0aW9uX2Zvci4nIiB0aXRsZT0iJy4kSG92ZXJfdGl0bGUuJyI+Jy4kY29udGVudC4nPC9hPic7Ijt9czoxMzoiX2Jhc2NpbXBvcnRlZCI7YToxOntpOjA7czoxOiIwIjt9czoyMToiX2Jhc2NzaF9wcmV2aWV3X2ltYWdlIjthOjE6e2k6MDtzOjI4OiJodHRwOi8vaS5pbWd1ci5jb20vVFhwRnIuZ2lmIjt9czoxNjoiX2Jhc2NzaF9leHRlcm5hbCI7YToxOntpOjA7czowOiIiO31zOjE3OiJfYmFzY19BdXRob3JfTmFtZSI7YToxOntpOjA7czoxMDoiQmFpbnRlcm5ldCI7fXM6MTE6Il9iYXNjc2hfdGFnIjthOjE6e2k6MDtzOjE0OiJzY191aV9hZHZhbmNlZCI7fXM6MTI6Il9iYXNjc2hfdHlwZSI7YToxOntpOjA7czo4OiJhZHZhbmNlZCI7fXM6MTM6Il9iYXNjcGhwX3R5cGUiO2E6MTp7aTowO3M6NjoicmV0dXJuIjt9czoxNjoiX2Jhc2NfQXV0aG9yX3VybCI7YToxOntpOjA7czoyNToiSHR0cDovL2VuLmJhaW50ZXJuZXQuaW5mbyI7fXM6MTc6Il9iYXNjX1N1cHBvcnRfdXJsIjthOjE6e2k6MDtzOjI1OiJIdHRwOi8vZW4uYmFpbnRlcm5ldC5pbmZvIjt9fXM6MzoidGF4IjthOjE6e2k6MDtzOjE1OiJkZW1vLXNob3J0Y29kZXMiO31zOjM6InRhZyI7czoxNDoic2NfdWlfYWR2YW5jZWQiO319");
		jQuery('#su_ui_import').click();
	});
	
});